{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\router\\index.js","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\router\\index.js","mtime":1640353310871},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\babel.config.js","mtime":1640353093300},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgcHVibGljUm91dGUsIHByb3RlY3RlZFJvdXRlIH0gZnJvbSAnLi9jb25maWcnOwppbXBvcnQgTlByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7CmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOwp2YXIgcm91dGVzID0gcHVibGljUm91dGUuY29uY2F0KHByb3RlY3RlZFJvdXRlKTsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwpWdWUudXNlKFJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgbGlua0FjdGl2ZUNsYXNzOiAnYWN0aXZlJywKICByb3V0ZXM6IHJvdXRlcwp9KTsgLy8gcm91dGVyIGd1YXJkcwoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgTlByb2dyZXNzLnN0YXJ0KCk7CiAgdmFyIHRva2VuID0gc3RvcmUuZ2V0dGVyc1snYXV0aC9nZXRBY2Nlc3NUb2tlbiddOwoKICBpZiAodG8ubmFtZSAhPT0gJ2xvZ2luJykgewogICAgLy8gY2hlY2sgdG9rZW4gaXMgZXhpc3QKICAgIGlmICh0b2tlbikgewogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KHsKICAgICAgICBuYW1lOiAnbG9naW4nLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZWRpcmVjdDogdG8ucGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9IC8vYXV0aCByb3V0ZSBpcyBhdXRoZW50aWNhdGVkCgp9KTsKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAoKSB7CiAgTlByb2dyZXNzLmRvbmUoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["D:/project/prj_scms/branch_ducdm/tkmsiem/src/router/index.js"],"names":["Vue","Router","publicRoute","protectedRoute","NProgress","routes","concat","store","use","router","mode","linkActiveClass","beforeEach","to","from","next","start","token","getters","name","query","redirect","path","afterEach","done"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,UAA5C;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AACA,IAAMC,MAAM,GAAGH,WAAW,CAACI,MAAZ,CAAmBH,cAAnB,CAAf;AACA,OAAOI,KAAP,MAAkB,SAAlB;AAEAP,GAAG,CAACQ,GAAJ,CAAQP,MAAR;AACA,IAAMQ,MAAM,GAAG,IAAIR,MAAJ,CAAW;AACxBS,EAAAA,IAAI,EAAE,SADkB;AAExBC,EAAAA,eAAe,EAAE,QAFO;AAGxBN,EAAAA,MAAM,EAAEA;AAHgB,CAAX,CAAf,C,CAKA;;AACAI,MAAM,CAACG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpCX,EAAAA,SAAS,CAACY,KAAV;AACA,MAAMC,KAAK,GAAGV,KAAK,CAACW,OAAN,CAAc,qBAAd,CAAd;;AACA,MAAIL,EAAE,CAACM,IAAH,KAAY,OAAhB,EAAyB;AACvB;AACA,QAAIF,KAAJ,EAAW;AACTF,MAAAA,IAAI;AACL,KAFD,MAEO;AACLA,MAAAA,IAAI,CAAC;AAAEI,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAER,EAAE,CAACS;AAAf;AAAxB,OAAD,CAAJ;AACD;AACF,GAPD,MAOO;AACLP,IAAAA,IAAI;AACL,GAZmC,CAapC;;AACD,CAdD;AAgBAN,MAAM,CAACc,SAAP,CAAiB,YAAM;AACrBnB,EAAAA,SAAS,CAACoB,IAAV;AACD,CAFD;AAIA,eAAef,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport { publicRoute, protectedRoute } from './config'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nconst routes = publicRoute.concat(protectedRoute)\r\nimport store from '@/store'\r\n\r\nVue.use(Router)\r\nconst router = new Router({\r\n  mode: 'history',\r\n  linkActiveClass: 'active',\r\n  routes: routes,\r\n})\r\n// router guards\r\nrouter.beforeEach((to, from, next) => {\r\n  NProgress.start()\r\n  const token = store.getters['auth/getAccessToken']\r\n  if (to.name !== 'login') {\r\n    // check token is exist\r\n    if (token) {\r\n      next()\r\n    } else {\r\n      next({ name: 'login', query: { redirect: to.path } })\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n  //auth route is authenticated\r\n})\r\n\r\nrouter.afterEach(() => {\r\n  NProgress.done()\r\n})\r\n\r\nexport default router\r\n"]}]}
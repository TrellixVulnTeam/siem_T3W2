{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\chat\\ChatWindow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\chat\\ChatWindow.vue","mtime":1640353310866},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\babel.config.js","mtime":1640353093300},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZVBlcmZlY3RTY3JvbGxiYXIgZnJvbSAndnVlLXBlcmZlY3Qtc2Nyb2xsYmFyJzsKaW1wb3J0IENoYXRNZXNzYWdpbmdJdGVtIGZyb20gJy4vQ2hhdE1lc3NhZ2luZ0l0ZW0nOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVnVlUGVyZmVjdFNjcm9sbGJhcjogVnVlUGVyZmVjdFNjcm9sbGJhciwKICAgIENoYXRNZXNzYWdpbmdJdGVtOiBDaGF0TWVzc2FnaW5nSXRlbQogIH0sCiAgcHJvcHM6IHsKICAgIGhlaWdodDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICJkZWZhdWx0IjogbnVsbAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lc3NhZ2U6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0TWVzc2FnZXM6IGZ1bmN0aW9uIGdldE1lc3NhZ2VzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2hhdC9nZXRNZXNzYWdlcyddOwogICAgfSwKICAgIGNvbXB1dGVIZWlnaHQ6IGZ1bmN0aW9uIGNvbXB1dGVIZWlnaHQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCB8fCAnJwogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdnZXRNZXNzYWdlcy5sZW5ndGgnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHNjcm9sbGJhciA9IF90aGlzLiRyZWZzLnNjcm9sbGJhci4kZWw7CiAgICAgICAgICBzY3JvbGxiYXIuc2Nyb2xsVG9wID0gc2Nyb2xsYmFyLnNjcm9sbEhlaWdodDsKICAgICAgICB9KTsgLy8gZ29UbygpCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZW5kTWVzc2FnZTogZnVuY3Rpb24gaGFuZGxlU2VuZE1lc3NhZ2UoKSB7CiAgICAgIGlmICh0aGlzLm1lc3NhZ2UpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hhdC9zZW5kTWVzc2FnZScsIHRoaXMubWVzc2FnZSk7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ChatWindow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,OAAA,mBAAA,MAAA,uBAAA;AACA,OAAA,iBAAA,MAAA,qBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,mBAAA,EAAA,mBADA;AAEA,IAAA,iBAAA,EAAA;AAFA,GADA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA;AAFA;AADA,GALA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GAfA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,kBAAA,CAAA;AACA,KAHA;AAIA,IAAA,aAJA,2BAIA;AACA,aAAA;AACA,QAAA,MAAA,EAAA,KAAA,MAAA,IAAA;AADA,OAAA;AAGA;AARA,GAhBA;AA0BA,EAAA,KAAA,EAAA;AACA,0BAAA;AACA,MAAA,OADA,qBACA;AAAA;;AACA,aAAA,SAAA,CAAA,YAAA;AACA,cAAA,SAAA,GAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,GAAA;AACA,UAAA,SAAA,CAAA,SAAA,GAAA,SAAA,CAAA,YAAA;AACA,SAHA,EADA,CAMA;AACA;AARA;AADA,GA1BA;AAsCA,EAAA,OAtCA,qBAsCA,CAAA,CAtCA;AAuCA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,UAAA,KAAA,OAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA,KAAA,OAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;AACA;AANA;AAvCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"chat_window\">\r\n    <v-toolbar text class=\"chat_window__toolbar\" light>\r\n      <v-btn icon>\r\n        <v-icon color=\"text--secondary\">mdi-arrow-left</v-icon>\r\n      </v-btn>\r\n      <v-spacer />\r\n      <v-toolbar-title>\r\n        <v-subheader>The server will not store the message</v-subheader>\r\n      </v-toolbar-title>\r\n      <v-spacer />\r\n      <v-tooltip bottom>\r\n        <template #activator=\"{ on }\">\r\n          <v-btn slot=\"activator\" icon v-on=\"on\">\r\n            <v-icon color=\"text--secondary\">mdi-plus</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <span>Add user</span>\r\n      </v-tooltip>\r\n    </v-toolbar>\r\n    <v-card>\r\n      <vue-perfect-scrollbar ref=\"scrollbar\" class=\"chat_window__scrollbar grey lighten-5\" :style=\"computeHeight\">\r\n        <v-card-text class=\"messaging_list pa-3\">\r\n          <template v-for=\"(item, index) in getMessages\">\r\n            <chat-messaging-item\r\n              :key=\"index\"\r\n              :username=\"item.username\"\r\n              :text=\"item.text\"\r\n              :created-at=\"item.createdAt\"\r\n            />\r\n          </template>\r\n        </v-card-text>\r\n        <div id=\"#messageBottom\"></div>\r\n      </vue-perfect-scrollbar>\r\n    </v-card>\r\n    <div class=\"chat_window__input\">\r\n      <v-text-field\r\n        v-model=\"message\"\r\n        full-width\r\n        text\r\n        clearable\r\n        solo\r\n        hide-details\r\n        autofocus\r\n        aria-autocomplete=\"off\"\r\n        append-icon=\"mdi-send\"\r\n        label=\"Type some message here\"\r\n        class=\"rounded-0\"\r\n        @click:append=\"handleSendMessage\"\r\n        @keydown.enter=\"handleSendMessage\"\r\n      >\r\n        <div slot=\"prepend-inner\">\r\n          <v-icon>mdi-image-outline</v-icon>\r\n          <v-icon>mdi-face</v-icon>\r\n        </div>\r\n      </v-text-field>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\r\nimport ChatMessagingItem from './ChatMessagingItem'\r\nexport default {\r\n  components: {\r\n    VuePerfectScrollbar,\r\n    ChatMessagingItem,\r\n  },\r\n  props: {\r\n    height: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      message: null,\r\n    }\r\n  },\r\n  computed: {\r\n    getMessages () {\r\n      return this.$store.getters['chat/getMessages']\r\n    },\r\n    computeHeight() {\r\n      return {\r\n        height: this.height || '',\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    'getMessages.length': {\r\n      handler() {\r\n        this.$nextTick(() => {\r\n          const scrollbar = this.$refs.scrollbar.$el\r\n          scrollbar.scrollTop = scrollbar.scrollHeight\r\n        })\r\n\r\n        // goTo()\r\n      },\r\n    },\r\n  },\r\n  created() {},\r\n  methods: {\r\n    handleSendMessage() {\r\n      if (this.message) {\r\n        this.$store.dispatch('chat/sendMessage', this.message)\r\n        this.message = null\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n.chat_window\r\n  &__scrollbar\r\n    height: calc(100vh - 64px - 64px - 56px) !important\r\n</style>\r\n"],"sourceRoot":"src/components/chat"}]}
{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\form\\LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\form\\LoginForm.vue","mtime":1640353310867},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\babel.config.js","mtime":1640353093300},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmb3JtTW9kZWw6IHsKICAgICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgICBwYXNzd29yZDogbnVsbAogICAgICB9LAogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6IHsKICAgICAgICAgIGxhYmVsOiAnVXNlcm5hbWUnLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICdUb29raXQnLAogICAgICAgICAgcnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgICAgICByZXR1cm4gISF2IHx8ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkJzsKICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICBwYXNzd29yZDogewogICAgICAgICAgbGFiZWw6ICdQYXNzd29yZCcsCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ3h4eCcsCiAgICAgICAgICBydWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgICAgIHJldHVybiAhIXYgfHwgJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQnOwogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZvcm1IYXNFcnJvcnM6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1UaXRsZTogZnVuY3Rpb24gZm9ybVRpdGxlKCkgewogICAgICByZXR1cm4gJ0xvZ2luJzsKICAgIH0KICB9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDYW5jZWxGb3JtOiBmdW5jdGlvbiBoYW5kbGVDYW5jZWxGb3JtKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgIH0sCiAgICBoYW5kbGVTdWJtaXRGb3JtOiBmdW5jdGlvbiBoYW5kbGVTdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dpbicsIHRoaXMuZm9ybU1vZGVsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpcy4kZW1pdCgnbG9naW46c3VjY2VzcycpOwoKICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlci9mZXRjaFVzZXInLCB7CiAgICAgICAgICAgIHBhZ2VTaXplOiAtMQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdjaGF0L0lOSVRfVVNFUicsIHJlc3AuZGF0YSwgewogICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYXQvaW5pdFNvY2tldCcpOwogICAgICAgICAgfSk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgICAgd2luZG93Ll9WTUEuJGVtaXQoJ1NIT1dfU05BQ0tCQVInLCB7CiAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgIHRleHQ6ICdBdXRoIEZhaWxlZCcsCiAgICAgICAgICAgIGNvbG9yOiAnZXJyb3InCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,eAAA;AACA,EAAA,KAAA,EAAA,EADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAHA;AAOA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA;AACA,UAAA,KAAA,EAAA,UADA;AAEA,UAAA,WAAA,EAAA,QAFA;AAGA,UAAA,KAAA,EAAA,CAAA,UAAA,CAAA;AAAA,mBAAA,CAAA,CAAA,CAAA,IAAA,wBAAA;AAAA,WAAA;AAHA,SADA;AAMA,QAAA,QAAA,EAAA;AACA,UAAA,KAAA,EAAA,UADA;AAEA,UAAA,WAAA,EAAA,KAFA;AAGA,UAAA,KAAA,EAAA,CAAA,UAAA,CAAA;AAAA,mBAAA,CAAA,CAAA,CAAA,IAAA,wBAAA;AAAA,WAAA;AAHA;AANA,OAPA;AAoBA,MAAA,aAAA,EAAA;AApBA,KAAA;AAAA,GAFA;AAwBA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA,OAAA;AACA;AAHA,GAxBA;AA6BA,EAAA,KAAA,EAAA,EA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,KAAA;AACA,KAHA;AAIA,IAAA,gBAJA,8BAIA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;;AACA,UAAA,KAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EAAA,EAAA;AACA,aAAA,MAAA,CACA,QADA,CACA,OADA,EACA,KAAA,SADA,EAEA,IAFA,CAEA,YAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,eAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA;AAAA,YAAA,QAAA,EAAA,CAAA;AAAA,WAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,IAAA,EAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA;;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,iBAAA;AACA,WAHA;AAIA,SATA,WAUA,YAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,eAAA,EAAA;AACA,YAAA,IAAA,EAAA,IADA;AAEA,YAAA,IAAA,EAAA,aAFA;AAGA,YAAA,KAAA,EAAA;AAHA,WAAA;;AAKA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,SAjBA;AAkBA;AACA;AA1BA;AA9BA,CAAA","sourcesContent":["<template>\r\n  <v-card :loading=\"loading\" tile>\r\n    <v-subheader>Login as a exist new user</v-subheader>\r\n    <v-divider />\r\n    <v-card-text>\r\n      <v-form ref=\"form\" v-model=\"valid\">\r\n        <v-container>\r\n          <v-row>\r\n            <v-col :cols=\"6\">\r\n              <v-text-field\r\n                v-model=\"formModel.username\"\r\n                outlined\r\n                :label=\"form.username.label\"\r\n                :placeholder=\"form.username.placeholder\"\r\n                required\r\n                :append-icon=\"'mdi-account-check'\"\r\n                :rules=\"form.username.rules\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"6\">\r\n              <v-text-field\r\n                v-model=\"formModel.password\"\r\n                outlined\r\n                :label=\"form.password.label\"\r\n                :placeholder=\"form.password.placeholder\"\r\n                required\r\n                :append-icon=\"'mdi-account-check'\"\r\n                :rules=\"form.password.rules\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </v-form>\r\n    </v-card-text>\r\n    <v-divider class=\"mt-5\"></v-divider>\r\n    <v-card-actions>\r\n      <v-btn text @click=\"handleCancelForm\">Cancel</v-btn>\r\n      <v-spacer />\r\n      <v-btn :loaidng=\"loading\" tile color=\"primary\" @click=\"handleSubmitForm\">Submit</v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {},\r\n  data: () => ({\r\n    valid: true,\r\n    loading: false,\r\n    formModel: {\r\n      username: null,\r\n      password: null,\r\n    },\r\n    form: {\r\n      username: {\r\n        label: 'Username',\r\n        placeholder: 'Tookit',\r\n        rules: [(v) => !!v || 'This field is required'],\r\n      },\r\n      password: {\r\n        label: 'Password',\r\n        placeholder: 'xxx',\r\n        rules: [(v) => !!v || 'This field is required'],\r\n      },\r\n    },\r\n\r\n    formHasErrors: false,\r\n  }),\r\n  computed: {\r\n    formTitle() {\r\n      return 'Login'\r\n    },\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    handleCancelForm() {\r\n      this.$refs.form.reset()\r\n    },\r\n    handleSubmitForm() {\r\n      this.loading = true\r\n      if (this.$refs.form.validate()) {\r\n        this.$store\r\n          .dispatch('login', this.formModel)\r\n          .then(() => {\r\n            this.loading = false\r\n            this.$emit('login:success')\r\n            this.$store.dispatch('user/fetchUser', { pageSize: -1 }).then((resp) => {\r\n              this.$store.commit('chat/INIT_USER', resp.data, { root: true })\r\n              this.$store.dispatch('chat/initSocket')\r\n            })\r\n          })\r\n          .catch(() => {\r\n            window._VMA.$emit('SHOW_SNACKBAR', {\r\n              show: true,\r\n              text: 'Auth Failed',\r\n              color: 'error',\r\n            })\r\n            this.loading = false\r\n          })\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/form"}]}
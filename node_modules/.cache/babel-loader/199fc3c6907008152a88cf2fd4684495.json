{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\store\\modules\\auth.js","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\store\\modules\\auth.js","mtime":1640353310872},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\babel.config.js","mtime":1640353093300},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxwcm9qZWN0XFxwcmpfc2Ntc1xcYnJhbmNoX2R1Y2RtXFx0a21zaWVtXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWwvcmVxdWVzdCc7CmltcG9ydCBjb2xvcnMgZnJvbSAndnVldGlmeS9lczUvdXRpbC9jb2xvcnMnOwppbXBvcnQgaHR0cFN0YXR1c0NvZGUgZnJvbSAnQC9hcGkvaHR0cFN0YXR1c0NvZGUnOwoKdmFyIHJhbmRvbUNvbG9yID0gZnVuY3Rpb24gcmFuZG9tQ29sb3IoKSB7CiAgdmFyIHRlbXAgPSBPYmplY3Qua2V5cyhjb2xvcnMpOwogIHZhciBrZXkgPSB0ZW1wW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRlbXAubGVuZ3RoKV07CiAgdmFyIGNvbG9yID0gY29sb3JzW2tleV0uYmFzZTsKICByZXR1cm4gY29sb3I7Cn07Cgp2YXIgc3RhdGUgPSB7CiAgYWNjZXNzX3Rva2VuOiBudWxsLAogIGFjY2Vzc190b2tlbl9zaWVtOiBudWxsLAogIGV4cGlyZXNfaW46IDM2MDAsCiAgdG9rZW5fdHlwZTogJ2JlYXJlcicsCiAgdXNlcm5hbWU6ICdhZG1pbicsCiAgYXZhdGFyOiBudWxsLAogIHVzZXJDb2xvcjogJyMyMTk2ZjMnLAogIHN0YXR1czogJ29ubGluZScKfTsKdmFyIGdldHRlcnMgPSB7CiAgZ2V0QWNjZXNzVG9rZW46IGZ1bmN0aW9uIGdldEFjY2Vzc1Rva2VuKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYWNjZXNzX3Rva2VuOwogIH0sCiAgZ2V0QWNjZXNzVG9rZW5TaWVtOiBmdW5jdGlvbiBnZXRBY2Nlc3NUb2tlblNpZW0oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5hY2Nlc3NfdG9rZW5fc2llbTsKICB9LAogIGdldEF2YXRhcjogZnVuY3Rpb24gZ2V0QXZhdGFyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYXZhdGFyOwogIH0sCiAgZ2V0VXNlcm5hbWU6IGZ1bmN0aW9uIGdldFVzZXJuYW1lKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcm5hbWU7CiAgfSwKICBnZXRVc2VyU3RhdHVzOiBmdW5jdGlvbiBnZXRVc2VyU3RhdHVzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8ganVzdCBmb3IgZGVtbwogIC8vcmVwbGFjZSB5b3Ugb3duIGxvZ2luIGxvZ2ljCiAgZGVtb0xvZ2luOiBmdW5jdGlvbiBkZW1vTG9naW4oX3JlZiwgX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIHVzZXJuYW1lLCBwYXNzd29yZCwgdG9rZW4sIGFwaXVzZXIsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIHVzZXJuYW1lID0gX3JlZjIudXNlcm5hbWUsIHBhc3N3b3JkID0gX3JlZjIucGFzc3dvcmQ7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CgogICAgICAgICAgICAgIGlmICghKHVzZXJuYW1lID09PSAnYWRtaW4nICYmIHBhc3N3b3JkID09PSAnYWRtaW4nKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0b2tlbiA9ICcnOwogICAgICAgICAgICAgIGFwaXVzZXIgPSBCdWZmZXIuZnJvbSgnd2F6dWhhcGk6QWRtaW5AMTIzJywgJ3V0ZjgnKS50b1N0cmluZygnYmFzZTY0Jyk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KCcvc2VjdXJpdHkvdXNlci9hdXRoZW50aWNhdGUnLCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0Jhc2ljICcgKyBhcGl1c2VyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICB0b2tlbiA9IHJlcy5kYXRhLnRva2VuOwogICAgICAgICAgICAgIGNvbW1pdCgnYXV0aC9TRVRfTE9HSU4nLCB7CiAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IHRva2VuLAogICAgICAgICAgICAgICAgZXhwaXJlc19pbjogMAogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBodHRwU3RhdHVzQ29kZS5PSyk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE0OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCAxNF1dKTsKICAgIH0pKSgpOwogIH0sCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYzLCBfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwogICAgdmFyIHVzZXJuYW1lID0gX3JlZjQudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSBfcmVmNC5wYXNzd29yZDsKICAgIHJldHVybiByZXF1ZXN0KHsKICAgICAgdXJsOiAnL2F1dGgvbG9naW4nLAogICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgZGF0YTogewogICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICBjb21taXQoJ2F1dGgvU0VUX0xPR0lOJywgcmVzcCwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICAgIGRpc3BhdGNoKCdhdXRoL2ZldGNoUHJvZmlsZScsICcnLCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKF9yZWY1LCBkYXRhKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0LAogICAgICAgIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2g7CiAgICByZXR1cm4gcmVxdWVzdCh7CiAgICAgIHVybDogJy9hdXRoL3JlZ2lzdGVyJywKICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgIGRhdGE6IGRhdGEKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgY29tbWl0KCdhdXRoL1NFVF9MT0dJTicsIHJlc3AsIHsKICAgICAgICByb290OiB0cnVlCiAgICAgIH0pOwogICAgICBkaXNwYXRjaCgnZmV0Y2hQcm9maWxlJyk7CiAgICAgIHJldHVybiByZXNwOwogICAgfSk7CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNikgewogICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwKICAgICAgICBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoOwogICAgZGlzcGF0Y2goJ2NoYXQvY2xvc2VTb2NrZXQnLCAnJywgewogICAgICByb290OiB0cnVlCiAgICB9KTsKICAgIGNvbW1pdCgnYXBwL1NFVF9BQ0NFU1NfVE9LRU4nLCBudWxsLCB7CiAgICAgIHJvb3Q6IHRydWUKICAgIH0pOwogIH0sCiAgLy8gZ2V0IGN1cnJlbnQgbG9naW4gdXNlciBpbmZvCiAgZmV0Y2hQcm9maWxlOiBmdW5jdGlvbiBmZXRjaFByb2ZpbGUoX3JlZjcpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNy5kaXNwYXRjaCwKICAgICAgICByb290U3RhdGUgPSBfcmVmNy5yb290U3RhdGU7CiAgICByZXR1cm4gcmVxdWVzdCh7CiAgICAgIHVybDogJy9tZScsCiAgICAgIG1ldGhvZDogJ2dldCcKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgY29tbWl0KCdhdXRoL1NFVF9MT0dJTl9QUk9GSUxFJywgcmVzcC5kYXRhLCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3A7CiAgICB9KTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgU0VUX0xPR0lOOiBmdW5jdGlvbiBTRVRfTE9HSU4oc3RhdGUsIF9yZWY4KSB7CiAgICB2YXIgYWNjZXNzX3Rva2VuID0gX3JlZjguYWNjZXNzX3Rva2VuLAogICAgICAgIGV4cGlyZXNfaW4gPSBfcmVmOC5leHBpcmVzX2luOwogICAgc3RhdGUuYWNjZXNzX3Rva2VuID0gYWNjZXNzX3Rva2VuOwogICAgc3RhdGUuZXhwaXJlc19pbiA9IGV4cGlyZXNfaW47CiAgfSwKICBTRVRfQUNDRVNTX1RPS0VOOiBmdW5jdGlvbiBTRVRfQUNDRVNTX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUuYWNjZXNzX3Rva2VuID0gdG9rZW47CiAgfSwKICBTRVRfTE9HSU5fUFJPRklMRTogZnVuY3Rpb24gU0VUX0xPR0lOX1BST0ZJTEUoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnVzZXJuYW1lID0gcGF5bG9hZC51c2VybmFtZTsKICAgIHN0YXRlLmF2YXRhciA9IHBheWxvYWQuYXZhdGFyOwogICAgc3RhdGUuY29sb3IgPSByYW5kb21Db2xvcigpOwogIH0sCiAgVVBEQVRFX1NFTEZfU1RBVFVTOiBmdW5jdGlvbiBVUERBVEVfU0VMRl9TVEFUVVMoc3RhdGUsIHN0YXR1cykgewogICAgc3RhdGUuc3RhdHVzID0gc3RhdHVzOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["D:/project/prj_scms/branch_ducdm/tkmsiem/src/store/modules/auth.js"],"names":["request","colors","httpStatusCode","randomColor","temp","Object","keys","key","Math","floor","random","length","color","base","state","access_token","access_token_siem","expires_in","token_type","username","avatar","userColor","status","getters","getAccessToken","getAccessTokenSiem","getAvatar","getUsername","getUserStatus","actions","demoLogin","commit","password","token","apiuser","Buffer","from","toString","get","headers","res","data","root","OK","console","log","login","dispatch","url","method","then","resp","register","logout","fetchProfile","rootState","mutations","SET_LOGIN","SET_ACCESS_TOKEN","SET_LOGIN_PROFILE","payload","UPDATE_SELF_STATUS","namespaced"],"mappings":"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","sourcesContent":["import request from '@/util/request'\r\nimport colors from 'vuetify/es5/util/colors'\r\nimport httpStatusCode from '@/api/httpStatusCode'\r\n\r\nconst randomColor = () => {\r\n  const temp = Object.keys(colors)\r\n  const key = temp[Math.floor(Math.random() * temp.length)]\r\n  const color = colors[key].base\r\n  return color\r\n}\r\n\r\nconst state = {\r\n  access_token: null,\r\n  access_token_siem: null,\r\n  expires_in: 3600,\r\n  token_type: 'bearer',\r\n  username: 'admin',\r\n  avatar: null,\r\n  userColor: '#2196f3',\r\n  status: 'online',\r\n}\r\nconst getters = {\r\n  getAccessToken: (state) => {\r\n    return state.access_token\r\n  }, \r\n  getAccessTokenSiem: (state) => {\r\n    return state.access_token_siem\r\n  },\r\n  getAvatar: (state) => state.avatar,\r\n\r\n  getUsername: (state) => state.username,\r\n  getUserStatus: (state) => state.status,\r\n}\r\nconst actions = {\r\n  // just for demo\r\n  //replace you own login logic\r\n  async demoLogin({ commit }, { username, password }) {\r\n    try {\r\n      if (username === 'admin' && password === 'admin') {\r\n        var token = ''\r\n        var apiuser = Buffer.from('wazuhapi:Admin@123', 'utf8').toString('base64');\r\n        const res = await request.get('/security/user/authenticate', { headers: {\r\n            'Authorization': 'Basic ' + apiuser\r\n          }})\r\n        token = res.data.token\r\n        commit('auth/SET_LOGIN', { access_token: token, expires_in: 0 }, { root: true })\r\n        return httpStatusCode.OK\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  },\r\n  login({ commit, dispatch }, { username, password }) {\r\n    return request({\r\n      url: '/auth/login',\r\n      method: 'post',\r\n      data: {\r\n        username,\r\n        password,\r\n      },\r\n    }).then((resp) => {\r\n      commit('auth/SET_LOGIN', resp, { root: true })\r\n      dispatch('auth/fetchProfile', '', { root: true })\r\n    })\r\n  },\r\n  register({ commit, dispatch }, data) {\r\n    return request({\r\n      url: '/auth/register',\r\n      method: 'post',\r\n      data: data,\r\n    }).then((resp) => {\r\n      commit('auth/SET_LOGIN', resp, { root: true})\r\n      dispatch('fetchProfile')\r\n      return resp\r\n    })\r\n  },\r\n  logout({ commit, dispatch }) {\r\n    dispatch('chat/closeSocket', '', {root: true})\r\n    commit('app/SET_ACCESS_TOKEN', null, { root: true })\r\n  },\r\n  // get current login user info\r\n\r\n  fetchProfile({ commit, dispatch, rootState }) {\r\n    return request({\r\n      url: '/me',\r\n      method: 'get',\r\n    }).then((resp) => {\r\n      commit('auth/SET_LOGIN_PROFILE', resp.data, {root: true})\r\n      return resp\r\n    })\r\n  },\r\n}\r\nconst mutations = {\r\n  SET_LOGIN(state, { access_token, expires_in }) {\r\n    state.access_token = access_token\r\n    state.expires_in = expires_in\r\n  },\r\n  SET_ACCESS_TOKEN(state, token) {\r\n    state.access_token = token\r\n  },\r\n  SET_LOGIN_PROFILE(state, payload) {\r\n    state.username = payload.username\r\n    state.avatar = payload.avatar\r\n    state.color = randomColor()\r\n  },\r\n  UPDATE_SELF_STATUS(state, status) {\r\n    state.status = status\r\n  },\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations,\r\n}\r\n"]}]}
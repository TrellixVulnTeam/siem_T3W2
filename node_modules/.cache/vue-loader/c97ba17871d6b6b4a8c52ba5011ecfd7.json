{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\chat\\ChatWindow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\chat\\ChatWindow.vue","mtime":1640353310866},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVnVlUGVyZmVjdFNjcm9sbGJhciBmcm9tICd2dWUtcGVyZmVjdC1zY3JvbGxiYXInDQppbXBvcnQgQ2hhdE1lc3NhZ2luZ0l0ZW0gZnJvbSAnLi9DaGF0TWVzc2FnaW5nSXRlbScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIFZ1ZVBlcmZlY3RTY3JvbGxiYXIsDQogICAgQ2hhdE1lc3NhZ2luZ0l0ZW0sDQogIH0sDQogIHByb3BzOiB7DQogICAgaGVpZ2h0OiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiBudWxsLA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG1lc3NhZ2U6IG51bGwsDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGdldE1lc3NhZ2VzICgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjaGF0L2dldE1lc3NhZ2VzJ10NCiAgICB9LA0KICAgIGNvbXB1dGVIZWlnaHQoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0IHx8ICcnLA0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7DQogICAgJ2dldE1lc3NhZ2VzLmxlbmd0aCc6IHsNCiAgICAgIGhhbmRsZXIoKSB7DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICBjb25zdCBzY3JvbGxiYXIgPSB0aGlzLiRyZWZzLnNjcm9sbGJhci4kZWwNCiAgICAgICAgICBzY3JvbGxiYXIuc2Nyb2xsVG9wID0gc2Nyb2xsYmFyLnNjcm9sbEhlaWdodA0KICAgICAgICB9KQ0KDQogICAgICAgIC8vIGdvVG8oKQ0KICAgICAgfSwNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkge30sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVTZW5kTWVzc2FnZSgpIHsNCiAgICAgIGlmICh0aGlzLm1lc3NhZ2UpIHsNCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYXQvc2VuZE1lc3NhZ2UnLCB0aGlzLm1lc3NhZ2UpDQogICAgICAgIHRoaXMubWVzc2FnZSA9IG51bGwNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfQ0K"},{"version":3,"sources":["ChatWindow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChatWindow.vue","sourceRoot":"src/components/chat","sourcesContent":["<template>\r\n  <div class=\"chat_window\">\r\n    <v-toolbar text class=\"chat_window__toolbar\" light>\r\n      <v-btn icon>\r\n        <v-icon color=\"text--secondary\">mdi-arrow-left</v-icon>\r\n      </v-btn>\r\n      <v-spacer />\r\n      <v-toolbar-title>\r\n        <v-subheader>The server will not store the message</v-subheader>\r\n      </v-toolbar-title>\r\n      <v-spacer />\r\n      <v-tooltip bottom>\r\n        <template #activator=\"{ on }\">\r\n          <v-btn slot=\"activator\" icon v-on=\"on\">\r\n            <v-icon color=\"text--secondary\">mdi-plus</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <span>Add user</span>\r\n      </v-tooltip>\r\n    </v-toolbar>\r\n    <v-card>\r\n      <vue-perfect-scrollbar ref=\"scrollbar\" class=\"chat_window__scrollbar grey lighten-5\" :style=\"computeHeight\">\r\n        <v-card-text class=\"messaging_list pa-3\">\r\n          <template v-for=\"(item, index) in getMessages\">\r\n            <chat-messaging-item\r\n              :key=\"index\"\r\n              :username=\"item.username\"\r\n              :text=\"item.text\"\r\n              :created-at=\"item.createdAt\"\r\n            />\r\n          </template>\r\n        </v-card-text>\r\n        <div id=\"#messageBottom\"></div>\r\n      </vue-perfect-scrollbar>\r\n    </v-card>\r\n    <div class=\"chat_window__input\">\r\n      <v-text-field\r\n        v-model=\"message\"\r\n        full-width\r\n        text\r\n        clearable\r\n        solo\r\n        hide-details\r\n        autofocus\r\n        aria-autocomplete=\"off\"\r\n        append-icon=\"mdi-send\"\r\n        label=\"Type some message here\"\r\n        class=\"rounded-0\"\r\n        @click:append=\"handleSendMessage\"\r\n        @keydown.enter=\"handleSendMessage\"\r\n      >\r\n        <div slot=\"prepend-inner\">\r\n          <v-icon>mdi-image-outline</v-icon>\r\n          <v-icon>mdi-face</v-icon>\r\n        </div>\r\n      </v-text-field>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\r\nimport ChatMessagingItem from './ChatMessagingItem'\r\nexport default {\r\n  components: {\r\n    VuePerfectScrollbar,\r\n    ChatMessagingItem,\r\n  },\r\n  props: {\r\n    height: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      message: null,\r\n    }\r\n  },\r\n  computed: {\r\n    getMessages () {\r\n      return this.$store.getters['chat/getMessages']\r\n    },\r\n    computeHeight() {\r\n      return {\r\n        height: this.height || '',\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    'getMessages.length': {\r\n      handler() {\r\n        this.$nextTick(() => {\r\n          const scrollbar = this.$refs.scrollbar.$el\r\n          scrollbar.scrollTop = scrollbar.scrollHeight\r\n        })\r\n\r\n        // goTo()\r\n      },\r\n    },\r\n  },\r\n  created() {},\r\n  methods: {\r\n    handleSendMessage() {\r\n      if (this.message) {\r\n        this.$store.dispatch('chat/sendMessage', this.message)\r\n        this.message = null\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n.chat_window\r\n  &__scrollbar\r\n    height: calc(100vh - 64px - 64px - 56px) !important\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\form\\EventForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\form\\EventForm.vue","mtime":1640353310866},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucycNCmltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICd0aW1lcnMnDQpjb25zdCBEQVRFX0ZPUk1BVCA9ICd5eXl5LU1NLWRkJw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIGV2ZW50OiBPYmplY3QsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHZhbGlkOiB0cnVlLA0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBkYXRlRm9ybWF0OiBEQVRFX0ZPUk1BVCwNCiAgICAgIHN0YXJ0RGF0ZU1lbnU6IGZhbHNlLA0KICAgICAgc3RhcnRUaW1lTWVudTogZmFsc2UsDQogICAgICBlbmREYXRlTWVudTogZmFsc2UsDQogICAgICBlbmRUaW1lTWVudTogZmFsc2UsDQogICAgICBjb2xvcnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHRleHQ6ICdCbHVlJywNCiAgICAgICAgICB2YWx1ZTogJ2JsdWUnLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGV4dDogJ1JlZCcsDQogICAgICAgICAgdmFsdWU6ICdyZWQnLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGV4dDogJ0dyZWVuJywNCiAgICAgICAgICB2YWx1ZTogJ2dyZWVuJywNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRleHQ6ICdCcm93bicsDQogICAgICAgICAgdmFsdWU6ICdicm93bicsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgZm9ybU1vZGVsOiB7DQogICAgICAgIHRpdGxlOiBudWxsLA0KICAgICAgICBjb2xvcjogJ2JsdWUnLA0KICAgICAgICBzdGFydERhdGU6IG51bGwsDQogICAgICAgIHN0YXJ0VGltZTogbnVsbCwNCiAgICAgICAgZW5kRGF0ZTogbnVsbCwNCiAgICAgICAgZW5kVGltZTogbnVsbCwNCiAgICAgICAgcmVtYXJrOiBudWxsLA0KICAgICAgfSwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICBsYWJlbDogJ1RpdGxlJywNCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ0V2ZW50IFRpdGxlJywNCiAgICAgICAgICBydWxlczogWyh2KSA9PiAhIXYgfHwgJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQnXSwNCiAgICAgICAgfSwNCiAgICAgICAgY29sb3I6IHsNCiAgICAgICAgICBsYWJlbDogJ0NvbG9yJywNCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ0V2ZW50IENvbG9yJywNCiAgICAgICAgICBydWxlczogWyh2KSA9PiAhIXYgfHwgJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQnXSwNCiAgICAgICAgfSwNCiAgICAgICAgc3RhcnREYXRlOiB7DQogICAgICAgICAgbGFiZWw6ICdTdGFydCBkYXRlJywNCiAgICAgICAgICBwbGFjZWhvbGRlcjogJ1N0YXJ0IGRhdGUnLA0KICAgICAgICAgIHJ1bGVzOiBbKHYpID0+ICEhdiB8fCAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZCddLA0KICAgICAgICB9LA0KICAgICAgICBlbmREYXRlOiB7DQogICAgICAgICAgbGFiZWw6ICdFbmQgZGF0ZScsDQogICAgICAgICAgcGxhY2Vob2xkZXI6ICdFbmQgZGF0ZScsDQogICAgICAgICAgcnVsZXM6IFsodikgPT4gISF2IHx8ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkJ10sDQogICAgICAgIH0sDQogICAgICAgIHN0YXJ0VGltZTogew0KICAgICAgICAgIGxhYmVsOiAnU3RhcnQgdGltZScsDQogICAgICAgICAgcGxhY2Vob2xkZXI6ICdTdGFydCB0aW1lJywNCiAgICAgICAgICBydWxlczogWyh2KSA9PiAhIXYgfHwgJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQnXSwNCiAgICAgICAgfSwNCiAgICAgICAgZW5kVGltZTogew0KICAgICAgICAgIGxhYmVsOiAnRW5kIHRpbWUnLA0KICAgICAgICAgIHBsYWNlaG9sZGVyOiAnZW5kIHRpbWUnLA0KICAgICAgICAgIHJ1bGVzOiBbKHYpID0+ICEhdiB8fCAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZCddLA0KICAgICAgICB9LA0KICAgICAgICByZW1hcms6IHsNCiAgICAgICAgICBsYWJlbDogJ1JlbWFyaycsDQogICAgICAgICAgcGxhY2Vob2xkZXI6ICdSZW1hcmsnLA0KICAgICAgICAgIHJ1bGVzOiBbKHYpID0+ICEhdiB8fCAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZCddLA0KICAgICAgICB9LA0KICAgICAgfSwNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgZXZlbnRUaXRsZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLmV2ZW50ICYmIHRoaXMuZXZlbnQuaWQgPyAnVXBkYXRlIEV2ZW50JyA6ICdDcmVhdGUgRXZlbnQnDQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBldmVudDogew0KICAgICAgaGFuZGxlcihldmVudCkgew0KICAgICAgICBpZiAoZXZlbnQpIHsNCiAgICAgICAgICB0aGlzLnVwZGF0ZU1vZGVsKGV2ZW50KQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlLA0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGRhdGVNb2RlbCh7IG5hbWUsIGNvbG9yLCBzdGFydCwgZW5kLCB0aW1lZCB9KSB7DQogICAgICB0aGlzLmZvcm1Nb2RlbC50aXRsZSA9IG5hbWUNCiAgICAgIDsodGhpcy5mb3JtTW9kZWwuY29sb3IgPSBjb2xvciksICh0aGlzLmZvcm1Nb2RlbC50aW1lZCA9IHRpbWVkKQ0KICAgICAgdGhpcy5mb3JtTW9kZWwuc3RhcnREYXRlID0gZm9ybWF0KHN0YXJ0LCBEQVRFX0ZPUk1BVCkNCiAgICAgIHRoaXMuZm9ybU1vZGVsLmVuZERhdGUgPSBmb3JtYXQoZW5kLCBEQVRFX0ZPUk1BVCkNCiAgICAgIHRoaXMuZm9ybU1vZGVsLnN0YXJ0VGltZSA9IGZvcm1hdChzdGFydCwgJ0hIOm1tJykNCiAgICAgIHRoaXMuZm9ybU1vZGVsLmVuZFRpbWUgPSBmb3JtYXQoZW5kLCAnSEg6bW0nKQ0KICAgIH0sDQogICAgaGFuZGxlU3VibWl0Rm9ybSgpIHsNCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgew0KICAgICAgICBpZiAodGhpcy5ldmVudC5pZCkgew0KICAgICAgICAgIHRoaXMudXBkYXRlRXZlbnQoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuY3JlYXRlRXZlbnQoMCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlRXZlbnQoKSB7DQogICAgICBjb25zdCBldmVudCA9IHsNCiAgICAgICAgbmFtZTogdGhpcy5mb3JtTW9kZWwudGl0bGUsDQogICAgICAgIHN0YXJ0OiBuZXcgRGF0ZSh0aGlzLmZvcm1Nb2RlbC5zdGFydERhdGUpLA0KICAgICAgICBlbmQ6IG5ldyBEYXRlKHRoaXMuZm9ybU1vZGVsLmVuZERhdGUpLA0KICAgICAgICBjb2xvcjogJ3ByaW1hcnknLA0KICAgICAgfQ0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdldmVudC9jcmVhdGVFdmVudCcsIGV2ZW50KQ0KICAgICAgICB0aGlzLiRlbWl0KCdzYXZlZCcpDQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICB9LCAxMDAwKQ0KICAgIH0sDQogICAgdXBkYXRlRXZlbnQoKSB7DQogICAgICBjb25zdCBldmVudCA9IHsNCiAgICAgICAgaWQ6IHRoaXMuZXZlbnQuaWQsDQogICAgICAgIG5hbWU6IHRoaXMuZm9ybU1vZGVsLnRpdGxlLA0KICAgICAgICBzdGFydDogbmV3IERhdGUodGhpcy5mb3JtTW9kZWwuc3RhcnREYXRlKSwNCiAgICAgICAgZW5kOiBuZXcgRGF0ZSh0aGlzLmZvcm1Nb2RlbC5lbmREYXRlKSwNCiAgICAgICAgY29sb3I6ICdwcmltYXJ5JywNCiAgICAgIH0NCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZXZlbnQvdXBkYXRlRXZlbnQnLCBldmVudCkNCiAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZWQnKQ0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgfSwgMTAwMCkNCiAgICB9LA0KICB9LA0KfQ0K"},{"version":3,"sources":["EventForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EventForm.vue","sourceRoot":"src/components/form","sourcesContent":["<template>\r\n  <v-card tile>\r\n    <v-toolbar flat dark>\r\n      <v-toolbar-title v-text=\"eventTitle\" />\r\n      <v-spacer></v-spacer>\r\n      <v-btn icon @click=\"$emit('close')\">\r\n        <v-icon>mdi-close</v-icon>\r\n      </v-btn>\r\n    </v-toolbar>\r\n    <v-card-text style=\"max-height: 450px; overflow: auto\">\r\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <v-container>\r\n          <v-row>\r\n            <v-col :cols=\"12\">\r\n              <v-text-field\r\n                v-model=\"formModel.title\"\r\n                :label=\"form.title.label\"\r\n                :placeholder=\"form.title.placeholder\"\r\n                :rules=\"form.title.rules\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"12\">\r\n              <v-autocomplete\r\n                v-model=\"formModel.color\"\r\n                :items=\"colors\"\r\n                :label=\"form.color.label\"\r\n                :placeholder=\"form.color.placeholder\"\r\n              >\r\n                <template #item=\"data\">\r\n                  <v-list-item-avatar>\r\n                    <v-avatar :color=\"data.item.value\"> </v-avatar>\r\n                  </v-list-item-avatar>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title v-html=\"data.item.value\"></v-list-item-title>\r\n                  </v-list-item-content>\r\n                </template>\r\n              </v-autocomplete>\r\n            </v-col>\r\n            <v-col :cols=\"6\">\r\n              <v-menu\r\n                ref=\"startDate\"\r\n                v-model=\"startDateMenu\"\r\n                :close-on-content-click=\"false\"\r\n                :day-format=\"dateFormat\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                max-width=\"290px\"\r\n                :return-value.sync=\"formModel.startDate\"\r\n              >\r\n                <template #activator=\"{ on }\">\r\n                  <v-text-field\r\n                    v-model=\"formModel.startDate\"\r\n                    :label=\"form.startDate.label\"\r\n                    :placeholder=\"form.startDate.placeholder\"\r\n                    append-icon=\"mdi-clock-outline\"\r\n                    autocomplete=\"off\"\r\n                    v-on=\"on\"\r\n                  />\r\n                </template>\r\n                <v-date-picker v-model=\"formModel.startDate\" no-title scrollable>\r\n                  <v-spacer />\r\n                  <v-btn text color=\"primary\" @click=\"startDateMenu = false\">Cancel</v-btn>\r\n                  <v-btn text color=\"primary\" @click=\"$refs.startDate.save(formModel.startDate)\">OK</v-btn>\r\n                </v-date-picker>\r\n              </v-menu>\r\n            </v-col>\r\n            <v-col :cols=\"6\">\r\n              <v-menu\r\n                ref=\"startTime\"\r\n                v-model=\"startTimeMenu\"\r\n                :close-on-content-click=\"false\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                max-width=\"290px\"\r\n                :return-value.sync=\"formModel.startTime\"\r\n              >\r\n                <template #activator=\"{ on }\">\r\n                  <v-text-field\r\n                    v-model=\"formModel.startTime\"\r\n                    :label=\"form.startTime.label\"\r\n                    :placeholder=\"form.startTime.placeholder\"\r\n                    append-icon=\"mdi-clock-outline\"\r\n                    v-on=\"on\"\r\n                  />\r\n                </template>\r\n                <v-time-picker v-model=\"formModel.startTime\" format=\"24hr\">\r\n                  <v-spacer />\r\n                  <v-btn text color=\"primary\" @click=\"startTimeMenu = false\">Cancel</v-btn>\r\n                  <v-btn text color=\"primary\" @click=\"$refs.startTime.save(formModel.startTime)\">OK</v-btn>\r\n                </v-time-picker>\r\n              </v-menu>\r\n            </v-col>\r\n            <v-col :cols=\"6\">\r\n              <v-menu\r\n                ref=\"endDate\"\r\n                v-model=\"endDateMenu\"\r\n                :close-on-content-click=\"false\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                min-width=\"290px\"\r\n                :return-value.sync=\"formModel.endDate\"\r\n              >\r\n                <template #activator=\"{ on }\">\r\n                  <v-text-field\r\n                    v-model=\"formModel.endDate\"\r\n                    :label=\"form.endDate.label\"\r\n                    :placeholder=\"form.endDate.placeholder\"\r\n                    append-icon=\"mdi-calendar\"\r\n                    v-on=\"on\"\r\n                  />\r\n                </template>\r\n                <v-date-picker v-model=\"formModel.endDate\" no-title scrollable>\r\n                  <v-spacer />\r\n                  <v-btn text color=\"primary\" @click=\"endDateMenu = false\">Cancel</v-btn>\r\n                  <v-btn text color=\"primary\" @click=\"$refs.endDate.save(formModel.endDate)\">OK</v-btn>\r\n                </v-date-picker>\r\n              </v-menu>\r\n            </v-col>\r\n            <v-col :cols=\"6\">\r\n              <v-menu\r\n                ref=\"endTime\"\r\n                v-model=\"endTimeMenu\"\r\n                :close-on-content-click=\"false\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                max-width=\"290px\"\r\n                :return-value.sync=\"formModel.endTime\"\r\n              >\r\n                <template #activator=\"{ on }\">\r\n                  <v-text-field\r\n                    v-model=\"formModel.endTime\"\r\n                    :label=\"form.endTime.lable\"\r\n                    :placeholder=\"form.endTime.placeholder\"\r\n                    append-icon=\"mdi-clock-outline\"\r\n                    v-on=\"on\"\r\n                  />\r\n                </template>\r\n                <v-time-picker v-model=\"formModel.endTime\" format=\"24hr\">\r\n                  <v-spacer />\r\n                  <v-btn text color=\"primary\" @click=\"endTimeMenu = false\">Cancel</v-btn>\r\n                  <v-btn text color=\"primary\" @click=\"$refs.endTime.save(formModel.endTime)\">OK</v-btn>\r\n                </v-time-picker>\r\n              </v-menu>\r\n            </v-col>\r\n            <v-col :cols=\"12\">\r\n              <v-textarea\r\n                v-model=\"formModel.remark\"\r\n                outlined\r\n                :rows=\"2\"\r\n                :label=\"form.remark.lable\"\r\n                :placeholder=\"form.remark.placeholder\"\r\n              />\r\n            </v-col>\r\n            <v-spacer />\r\n          </v-row>\r\n        </v-container>\r\n      </v-form>\r\n    </v-card-text>\r\n    <v-divider />\r\n    <v-card-actions>\r\n      <v-btn text color=\"secondary\" @click=\"$emit('cancel')\"> Cancel </v-btn>\r\n      <v-spacer />\r\n\r\n      <v-btn :loading=\"loading\" tile color=\"primary\" @click=\"handleSubmitForm\"> Save </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { format } from 'date-fns'\r\nimport { setTimeout } from 'timers'\r\nconst DATE_FORMAT = 'yyyy-MM-dd'\r\nexport default {\r\n  props: {\r\n    event: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      valid: true,\r\n      loading: false,\r\n      dateFormat: DATE_FORMAT,\r\n      startDateMenu: false,\r\n      startTimeMenu: false,\r\n      endDateMenu: false,\r\n      endTimeMenu: false,\r\n      colors: [\r\n        {\r\n          text: 'Blue',\r\n          value: 'blue',\r\n        },\r\n        {\r\n          text: 'Red',\r\n          value: 'red',\r\n        },\r\n        {\r\n          text: 'Green',\r\n          value: 'green',\r\n        },\r\n        {\r\n          text: 'Brown',\r\n          value: 'brown',\r\n        },\r\n      ],\r\n      formModel: {\r\n        title: null,\r\n        color: 'blue',\r\n        startDate: null,\r\n        startTime: null,\r\n        endDate: null,\r\n        endTime: null,\r\n        remark: null,\r\n      },\r\n      form: {\r\n        title: {\r\n          label: 'Title',\r\n          placeholder: 'Event Title',\r\n          rules: [(v) => !!v || 'This field is required'],\r\n        },\r\n        color: {\r\n          label: 'Color',\r\n          placeholder: 'Event Color',\r\n          rules: [(v) => !!v || 'This field is required'],\r\n        },\r\n        startDate: {\r\n          label: 'Start date',\r\n          placeholder: 'Start date',\r\n          rules: [(v) => !!v || 'This field is required'],\r\n        },\r\n        endDate: {\r\n          label: 'End date',\r\n          placeholder: 'End date',\r\n          rules: [(v) => !!v || 'This field is required'],\r\n        },\r\n        startTime: {\r\n          label: 'Start time',\r\n          placeholder: 'Start time',\r\n          rules: [(v) => !!v || 'This field is required'],\r\n        },\r\n        endTime: {\r\n          label: 'End time',\r\n          placeholder: 'end time',\r\n          rules: [(v) => !!v || 'This field is required'],\r\n        },\r\n        remark: {\r\n          label: 'Remark',\r\n          placeholder: 'Remark',\r\n          rules: [(v) => !!v || 'This field is required'],\r\n        },\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    eventTitle() {\r\n      return this.event && this.event.id ? 'Update Event' : 'Create Event'\r\n    },\r\n  },\r\n  watch: {\r\n    event: {\r\n      handler(event) {\r\n        if (event) {\r\n          this.updateModel(event)\r\n        }\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    updateModel({ name, color, start, end, timed }) {\r\n      this.formModel.title = name\r\n      ;(this.formModel.color = color), (this.formModel.timed = timed)\r\n      this.formModel.startDate = format(start, DATE_FORMAT)\r\n      this.formModel.endDate = format(end, DATE_FORMAT)\r\n      this.formModel.startTime = format(start, 'HH:mm')\r\n      this.formModel.endTime = format(end, 'HH:mm')\r\n    },\r\n    handleSubmitForm() {\r\n      if (this.$refs.form.validate()) {\r\n        if (this.event.id) {\r\n          this.updateEvent()\r\n        } else {\r\n          this.createEvent(0)\r\n        }\r\n      }\r\n    },\r\n    createEvent() {\r\n      const event = {\r\n        name: this.formModel.title,\r\n        start: new Date(this.formModel.startDate),\r\n        end: new Date(this.formModel.endDate),\r\n        color: 'primary',\r\n      }\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.$store.dispatch('event/createEvent', event)\r\n        this.$emit('saved')\r\n        this.loading = false\r\n      }, 1000)\r\n    },\r\n    updateEvent() {\r\n      const event = {\r\n        id: this.event.id,\r\n        name: this.formModel.title,\r\n        start: new Date(this.formModel.startDate),\r\n        end: new Date(this.formModel.endDate),\r\n        color: 'primary',\r\n      }\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.$store.dispatch('event/updateEvent', event)\r\n        this.$emit('saved')\r\n        this.loading = false\r\n      }, 1000)\r\n    },\r\n  },\r\n}\r\n</script>\r\n"]}]}
{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\chat\\ChatDrawer.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\chat\\ChatDrawer.vue","mtime":1640353310865},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ0F2YXRhciBmcm9tICdAL2NvbXBvbmVudHMvYXZhdGFyL0NBdmF0YXInDQppbXBvcnQgVnVlUGVyZmVjdFNjcm9sbGJhciBmcm9tICd2dWUtcGVyZmVjdC1zY3JvbGxiYXInDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBDQXZhdGFyLA0KICAgIFZ1ZVBlcmZlY3RTY3JvbGxiYXIsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNlbGVjdGVkSXRlbTogbnVsbCwNCiAgICAgIHNob3dQcm9maWxlOiBmYWxzZSwNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgZ2V0Q2hhdFVzZXJzICgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjaGF0L2dldENoYXRVc2VycyddDQogICAgfSwNCiAgICBnZXRBdmF0YXIgKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2F1dGgvZ2V0QXZhdGFyJ10NCiAgICB9LA0KICAgIGdldFVzZXJuYW1lICgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydhdXRoL2dldFVzZXJuYW1lJ10NCiAgICB9LA0KICAgIGNvbXB1dGVIZWlnaHQoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0IHx8ICcnLA0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjb21wdXRlQ29sb3IoaXRlbSkgew0KICAgICAgcmV0dXJuIGl0ZW0ubWFzdGVyID8gJyMyMTk2ZjMnIDogJ2dyZXknDQogICAgfSwNCiAgICBjb21wdXRlQXZhdGFyKHVzZXJuYW1lKSB7DQogICAgICBjb25zdCBhdmF0YXIgPSB0aGlzLmdldFVzZXJuYW1lID09PSB1c2VybmFtZSA/IHRoaXMuZ2V0QXZhdGFyIDogJycNCiAgICAgIHJldHVybiBhdmF0YXINCiAgICB9LA0KICAgIGhhbmRsZVZpZXdQcm9maWxlKGl0ZW0pIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gaXRlbQ0KICAgICAgdGhpcy5zaG93UHJvZmlsZSA9IHRydWUNCiAgICB9LA0KICB9LA0KfQ0K"},{"version":3,"sources":["ChatDrawer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChatDrawer.vue","sourceRoot":"src/components/chat","sourcesContent":["<template>\r\n  <div class=\"chat_drawer\">\r\n    <v-navigation-drawer app>\r\n      <v-btn dark height=\"64\" block color=\"primary\" tile>\r\n        <v-icon>mdi-chat</v-icon>\r\n      </v-btn>\r\n      <vue-perfect-scrollbar ref=\"scrollbar\" class=\"chat_drawer__scrollbar grey lighten-5\" :style=\"computeHeight\">\r\n        <v-list two-line class=\"chat_user__list pa-0\">\r\n          <v-subheader>Users</v-subheader>\r\n          <v-divider />\r\n          <v-list-item-group v-model=\"selectedItem\">\r\n            <template v-for=\"item in getChatUsers\">\r\n              <v-list-item :key=\"item.username\" :value=\"item\" @click=\"handleViewProfile(item)\">\r\n                <v-list-item-avatar>\r\n                  <c-avatar\r\n                    :size=\"32\"\r\n                    :username=\"item.username\"\r\n                    :status=\"item.status === 1 ? 'online' : 'offline'\"\r\n                    :color=\"computeColor(item)\"\r\n                    :src=\"computeAvatar(item.username)\"\r\n                  />\r\n                </v-list-item-avatar>\r\n                <v-list-item-content>\r\n                  <v-list-item-title>{{ item.username }}</v-list-item-title>\r\n                  <v-list-item-subtitle> {{ item.ip }} </v-list-item-subtitle>\r\n                </v-list-item-content>\r\n              </v-list-item>\r\n              <v-divider :key=\"'d' + item.username\" />\r\n            </template>\r\n          </v-list-item-group>\r\n        </v-list>\r\n      </vue-perfect-scrollbar>\r\n    </v-navigation-drawer>\r\n    <v-navigation-drawer v-model=\"showProfile\" app right hide-overlay clipped clipped-right>\r\n      <div flat>\r\n        <v-toolbar flat class=\"border-bottom\">\r\n          <v-subheader>Profile</v-subheader>\r\n          <v-spacer />\r\n          <v-btn icon @click=\"showProfile = false\"><v-icon>mdi-close</v-icon></v-btn>\r\n        </v-toolbar>\r\n        <div v-if=\"selectedItem\">\r\n          <v-card flat>\r\n            <v-img height=\"200\" class=\"py-5\">\r\n              <c-avatar\r\n                class=\"center-align\"\r\n                :size=\"150\"\r\n                :username=\"selectedItem.username\"\r\n                :color=\"computeColor(selectedItem)\"\r\n                :src=\"computeAvatar(selectedItem.username)\"\r\n              />\r\n            </v-img>\r\n            <v-card-actions class=\"justify-space-between\">\r\n              <!-- <v-icon @click=\"$emit('chat:text')\">mdi-chat</v-icon> -->\r\n              <!-- <v-icon @click=\"$emit('chat:video')\">mdi-video</v-icon> -->\r\n            </v-card-actions>\r\n          </v-card>\r\n          <v-divider />\r\n          <v-list>\r\n            <v-list-item>\r\n              <v-list-item-icon class=\"mr-3\">\r\n                <v-icon>mdi-account</v-icon>\r\n              </v-list-item-icon>\r\n              <v-list-item-subtitle v-text=\"selectedItem.username\" />\r\n            </v-list-item>\r\n            <v-list-item>\r\n              <v-list-item-icon class=\"mr-3\">\r\n                <v-icon>mdi-map-marker</v-icon>\r\n              </v-list-item-icon>\r\n              <v-list-item-subtitle v-text=\"selectedItem.ip\" />\r\n            </v-list-item>\r\n            <v-list-item>\r\n              <v-list-item-icon class=\"mr-3\">\r\n                <v-icon>mdi-play</v-icon>\r\n              </v-list-item-icon>\r\n              <v-list-item-subtitle v-text=\"selectedItem.agent\" />\r\n            </v-list-item>\r\n          </v-list>\r\n        </div>\r\n      </div>\r\n    </v-navigation-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CAvatar from '@/components/avatar/CAvatar'\r\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\r\nexport default {\r\n  components: {\r\n    CAvatar,\r\n    VuePerfectScrollbar,\r\n  },\r\n  data() {\r\n    return {\r\n      selectedItem: null,\r\n      showProfile: false,\r\n    }\r\n  },\r\n  computed: {\r\n    getChatUsers () {\r\n      return this.$store.getters['chat/getChatUsers']\r\n    },\r\n    getAvatar () {\r\n      return this.$store.getters['auth/getAvatar']\r\n    },\r\n    getUsername () {\r\n      return this.$store.getters['auth/getUsername']\r\n    },\r\n    computeHeight() {\r\n      return {\r\n        height: this.height || '',\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    computeColor(item) {\r\n      return item.master ? '#2196f3' : 'grey'\r\n    },\r\n    computeAvatar(username) {\r\n      const avatar = this.getUsername === username ? this.getAvatar : ''\r\n      return avatar\r\n    },\r\n    handleViewProfile(item) {\r\n      this.selectedItem = item\r\n      this.showProfile = true\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n.chat_drawer\r\n  &__scrollbar\r\n    height: calc(100vh - 64px - 64px) !important\r\n  .icon\r\n    width: 42px\r\n    height: 42px\r\n    vertical-align: -0.15em\r\n    fill: currentColor\r\n    overflow: hidden\r\n</style>\r\n"]}]}
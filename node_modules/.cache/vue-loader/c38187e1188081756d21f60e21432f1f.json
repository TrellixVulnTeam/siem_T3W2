{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\form\\LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\components\\form\\LoginForm.vue","mtime":1640353310867},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7fSwNCiAgZGF0YTogKCkgPT4gKHsNCiAgICB2YWxpZDogdHJ1ZSwNCiAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICBmb3JtTW9kZWw6IHsNCiAgICAgIHVzZXJuYW1lOiBudWxsLA0KICAgICAgcGFzc3dvcmQ6IG51bGwsDQogICAgfSwNCiAgICBmb3JtOiB7DQogICAgICB1c2VybmFtZTogew0KICAgICAgICBsYWJlbDogJ1VzZXJuYW1lJywNCiAgICAgICAgcGxhY2Vob2xkZXI6ICdUb29raXQnLA0KICAgICAgICBydWxlczogWyh2KSA9PiAhIXYgfHwgJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQnXSwNCiAgICAgIH0sDQogICAgICBwYXNzd29yZDogew0KICAgICAgICBsYWJlbDogJ1Bhc3N3b3JkJywNCiAgICAgICAgcGxhY2Vob2xkZXI6ICd4eHgnLA0KICAgICAgICBydWxlczogWyh2KSA9PiAhIXYgfHwgJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQnXSwNCiAgICAgIH0sDQogICAgfSwNCg0KICAgIGZvcm1IYXNFcnJvcnM6IGZhbHNlLA0KICB9KSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBmb3JtVGl0bGUoKSB7DQogICAgICByZXR1cm4gJ0xvZ2luJw0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7fSwNCiAgbWV0aG9kczogew0KICAgIGhhbmRsZUNhbmNlbEZvcm0oKSB7DQogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKQ0KICAgIH0sDQogICAgaGFuZGxlU3VibWl0Rm9ybSgpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgew0KICAgICAgICB0aGlzLiRzdG9yZQ0KICAgICAgICAgIC5kaXNwYXRjaCgnbG9naW4nLCB0aGlzLmZvcm1Nb2RlbCkNCiAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnbG9naW46c3VjY2VzcycpDQogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXNlci9mZXRjaFVzZXInLCB7IHBhZ2VTaXplOiAtMSB9KS50aGVuKChyZXNwKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhdC9JTklUX1VTRVInLCByZXNwLmRhdGEsIHsgcm9vdDogdHJ1ZSB9KQ0KICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hhdC9pbml0U29ja2V0JykNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgd2luZG93Ll9WTUEuJGVtaXQoJ1NIT1dfU05BQ0tCQVInLCB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICAgIHRleHQ6ICdBdXRoIEZhaWxlZCcsDQogICAgICAgICAgICAgIGNvbG9yOiAnZXJyb3InLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfQ0K"},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginForm.vue","sourceRoot":"src/components/form","sourcesContent":["<template>\r\n  <v-card :loading=\"loading\" tile>\r\n    <v-subheader>Login as a exist new user</v-subheader>\r\n    <v-divider />\r\n    <v-card-text>\r\n      <v-form ref=\"form\" v-model=\"valid\">\r\n        <v-container>\r\n          <v-row>\r\n            <v-col :cols=\"6\">\r\n              <v-text-field\r\n                v-model=\"formModel.username\"\r\n                outlined\r\n                :label=\"form.username.label\"\r\n                :placeholder=\"form.username.placeholder\"\r\n                required\r\n                :append-icon=\"'mdi-account-check'\"\r\n                :rules=\"form.username.rules\"\r\n              />\r\n            </v-col>\r\n            <v-col :cols=\"6\">\r\n              <v-text-field\r\n                v-model=\"formModel.password\"\r\n                outlined\r\n                :label=\"form.password.label\"\r\n                :placeholder=\"form.password.placeholder\"\r\n                required\r\n                :append-icon=\"'mdi-account-check'\"\r\n                :rules=\"form.password.rules\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </v-form>\r\n    </v-card-text>\r\n    <v-divider class=\"mt-5\"></v-divider>\r\n    <v-card-actions>\r\n      <v-btn text @click=\"handleCancelForm\">Cancel</v-btn>\r\n      <v-spacer />\r\n      <v-btn :loaidng=\"loading\" tile color=\"primary\" @click=\"handleSubmitForm\">Submit</v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {},\r\n  data: () => ({\r\n    valid: true,\r\n    loading: false,\r\n    formModel: {\r\n      username: null,\r\n      password: null,\r\n    },\r\n    form: {\r\n      username: {\r\n        label: 'Username',\r\n        placeholder: 'Tookit',\r\n        rules: [(v) => !!v || 'This field is required'],\r\n      },\r\n      password: {\r\n        label: 'Password',\r\n        placeholder: 'xxx',\r\n        rules: [(v) => !!v || 'This field is required'],\r\n      },\r\n    },\r\n\r\n    formHasErrors: false,\r\n  }),\r\n  computed: {\r\n    formTitle() {\r\n      return 'Login'\r\n    },\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    handleCancelForm() {\r\n      this.$refs.form.reset()\r\n    },\r\n    handleSubmitForm() {\r\n      this.loading = true\r\n      if (this.$refs.form.validate()) {\r\n        this.$store\r\n          .dispatch('login', this.formModel)\r\n          .then(() => {\r\n            this.loading = false\r\n            this.$emit('login:success')\r\n            this.$store.dispatch('user/fetchUser', { pageSize: -1 }).then((resp) => {\r\n              this.$store.commit('chat/INIT_USER', resp.data, { root: true })\r\n              this.$store.dispatch('chat/initSocket')\r\n            })\r\n          })\r\n          .catch(() => {\r\n            window._VMA.$emit('SHOW_SNACKBAR', {\r\n              show: true,\r\n              text: 'Auth Failed',\r\n              color: 'error',\r\n            })\r\n            this.loading = false\r\n          })\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n"]}]}
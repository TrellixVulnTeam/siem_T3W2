{"remainingRequest":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\views\\agent\\AgentPreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\src\\views\\agent\\AgentPreview.vue","mtime":1640533644740},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\prj_scms\\branch_ducdm\\tkmsiem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRmllbGRTZXRDYXJkIGZyb20gJ0AvY29tcG9uZW50cy9jYXJkL0ZpZWxkU2V0Q2FyZCcNCmltcG9ydCBWRzJEb251dCBmcm9tICdAL2NvbXBvbmVudHMvY2hhcnQvZzJwbG90L2RvbnV0Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQWdlbnRQcmV2aWV3JywNCiAgY29tcG9uZW50czogew0KICAgIEZpZWxkU2V0Q2FyZCwNCiAgICBWRzJEb251dCwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8gZGVmaW5lIGhlYWRlcg0KICAgICAgaGVhZGVyczogWw0KICAgICAgICB7DQogICAgICAgICAgdGV4dDogJ0lEJywNCiAgICAgICAgICBhbGlnbjogJ2xlZnQnLA0KICAgICAgICAgIHZhbHVlOiAnaWQnLA0KICAgICAgICAgIHdpZHRoOiAnODBweCcsDQogICAgICAgIH0sDQogICAgICAgIHsgdGV4dDogJ05hbWUnLCB2YWx1ZTogJ25hbWUnIH0sDQogICAgICAgIHsgdGV4dDogJ0lQJywgdmFsdWU6ICdpcCcgfSwNCiAgICAgICAgeyB0ZXh0OiAnR3JvdXAocyknLCB2YWx1ZTogJ2dyb3VwJyB9LA0KICAgICAgICB7IHRleHQ6ICdPUycsIHZhbHVlOiAnb3MnLCB3aWR0aDogJzMwMHB4JyB9LA0KICAgICAgICB7IHRleHQ6ICdDbHVzdHRlciBub2RlJywgdmFsdWU6ICdjbHVzdGVyJyB9LA0KICAgICAgICB7IHRleHQ6ICdWZXJzaW9uJywgdmFsdWU6ICd2ZXJzaW9uJyB9LA0KICAgICAgICB7IHRleHQ6ICdSZWdpc3RyYXRpb24gZGF0ZScsIHZhbHVlOiAncmVnRGF0ZScgfSwNCiAgICAgICAgeyB0ZXh0OiAnTGFzdCBrZWVwIGFsaXZlJywgdmFsdWU6ICdrZWVwQWxpdmUnIH0sDQogICAgICAgIHsgdGV4dDogJ1N0YXR1cycsIHZhbHVlOiAnc3RhdHVzJywgd2lkdGg6ICcxNDBweCcgfSwNCiAgICAgICAgeyB0ZXh0OiAnQWN0aW9uJywgdmFsdWU6ICdhY3Rpb24nIH0sDQogICAgICBdLA0KICAgICAgYWdlbnRzOiBbXSwNCiAgICAgIGRvbnV0OiB7DQogICAgICAgIGRhdGE6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAnRGlzY29ubmVjdGVkJywNCiAgICAgICAgICAgIHZhbHVlOiA0LA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogJ0FjdGl2ZScsDQogICAgICAgICAgICB2YWx1ZTogNSwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgICB0aXRsZTogew0KICAgICAgICAgIHZpc2libGU6IHRydWUsDQogICAgICAgICAgdGV4dDogJ0RvbnV0IGNoYXJ0JywNCiAgICAgICAgfSwNCiAgICAgIH0sDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGdldERhdGFUYWJsZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLmFnZW50cy5tYXAoKGFnZW50KSA9PiB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgaWQ6IGFnZW50LmlkLA0KICAgICAgICAgIG5hbWU6IGFnZW50Lm5hbWUsDQogICAgICAgICAgaXA6IGFnZW50LmlwLA0KICAgICAgICAgIGdyb3VwOiAnZGVmYXVsdCcsDQogICAgICAgICAgb3M6IGFnZW50Lm9zPy5uYW1lLA0KICAgICAgICAgIGNsdXN0ZXI6IGFnZW50Lm5vZGVfbmFtZSwNCiAgICAgICAgICB2ZXJpc29uOiBhZ2VudC52ZXJzaW9uLA0KICAgICAgICAgIHJlZ0RhdGU6IGFnZW50LmRhdGVBZGQsDQogICAgICAgICAga2VlcEFsaXZlOiBhZ2VudC5sYXN0S2VlcEFsaXZlLA0KICAgICAgICAgIHN0YXR1czogYWdlbnQuc3RhdHVzLA0KICAgICAgICAgIGFjdGlvbjogJycsDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBpc0xvYWRpbmcoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snYWdlbnQvbG9hZGluZyddDQogICAgfSwNCiAgfSwNCiAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWdlbnQvZ2V0TGlzdEFnZW50cycpDQogICAgdGhpcy5hZ2VudHMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydhZ2VudC9hZ2VudHMnXQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0SWNvblN0YXR1cyhzdGF0dXMpIHsNCiAgICAgIHN3aXRjaCAoc3RhdHVzKSB7DQogICAgICAgIGNhc2UgJ2FjdGl2ZSc6DQogICAgICAgICAgcmV0dXJuICdjaXJjbGUtc3RhdHVzLS1zdWNjZXNzJw0KICAgICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOg0KICAgICAgICAgIHJldHVybiAnY2lyY2xlLXN0YXR1cy0tZGlzY29ubmVjdGVkJw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9DQo="},{"version":3,"sources":["AgentPreview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AgentPreview.vue","sourceRoot":"src/views/agent","sourcesContent":["<template>\r\n  <div class=\"agent-container\">\r\n    <v-container>\r\n      <v-row>\r\n        <v-col xl=\"4\" lg=\"6\" sm=\"12\" class=\"d-flex overflow-scroll\">\r\n          <field-set-card card-label=\"STATUS\">\r\n            <template #card-content>\r\n              <v-g2-donut :data=\"donut.data\" />\r\n            </template>\r\n          </field-set-card>\r\n        </v-col>\r\n        <v-col xl=\"4\" lg=\"6\" sm=\"12\" class=\"d-flex overflow-scroll\">\r\n          <field-set-card card-label=\"DETAIL\">\r\n            <template #card-content>\r\n              <v-g2-donut :data=\"donut.data\" />\r\n            </template>\r\n          </field-set-card>\r\n        </v-col>\r\n        <v-col xl=\"4\" lg=\"6\" sm=\"12\" class=\"d-flex overflow-scroll\">\r\n          <field-set-card card-label=\"EVOLUTION\">\r\n            <template #card-content>\r\n              <v-g2-donut :data=\"donut.data\" />\r\n            </template>\r\n          </field-set-card>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <v-data-table\r\n            :headers=\"headers\"\r\n            :items=\"getDataTable\"\r\n            :sort-by=\"['id']\"\r\n            :sort-desc=\"[true]\"\r\n            class=\"elevation-1\"\r\n            :loading=\"isLoading\"\r\n          >\r\n            <template #body=\"props\">\r\n              <tbody>\r\n                <tr v-for=\"(item, index) in props.items\" :key=\"index\">\r\n                  <td v-for=\"(field, index) in Object.keys(item)\" :key=\"index\" class=\"d-flex d-sm-table-cell\">\r\n                    <template v-if=\"field === 'status'\">\r\n                      <span :class=\"getIconStatus(item[field])\"></span>{{ item[field] }}\r\n                    </template>\r\n                    <template v-else>\r\n                      {{ item[field] }}\r\n                    </template>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </template>\r\n          </v-data-table>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n<script>\r\nimport FieldSetCard from '@/components/card/FieldSetCard'\r\nimport VG2Donut from '@/components/chart/g2plot/donut'\r\nexport default {\r\n  name: 'AgentPreview',\r\n  components: {\r\n    FieldSetCard,\r\n    VG2Donut,\r\n  },\r\n  data() {\r\n    return {\r\n      // define header\r\n      headers: [\r\n        {\r\n          text: 'ID',\r\n          align: 'left',\r\n          value: 'id',\r\n          width: '80px',\r\n        },\r\n        { text: 'Name', value: 'name' },\r\n        { text: 'IP', value: 'ip' },\r\n        { text: 'Group(s)', value: 'group' },\r\n        { text: 'OS', value: 'os', width: '300px' },\r\n        { text: 'Clustter node', value: 'cluster' },\r\n        { text: 'Version', value: 'version' },\r\n        { text: 'Registration date', value: 'regDate' },\r\n        { text: 'Last keep alive', value: 'keepAlive' },\r\n        { text: 'Status', value: 'status', width: '140px' },\r\n        { text: 'Action', value: 'action' },\r\n      ],\r\n      agents: [],\r\n      donut: {\r\n        data: [\r\n          {\r\n            type: 'Disconnected',\r\n            value: 4,\r\n          },\r\n          {\r\n            type: 'Active',\r\n            value: 5,\r\n          },\r\n        ],\r\n        title: {\r\n          visible: true,\r\n          text: 'Donut chart',\r\n        },\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    getDataTable() {\r\n      return this.agents.map((agent) => {\r\n        return {\r\n          id: agent.id,\r\n          name: agent.name,\r\n          ip: agent.ip,\r\n          group: 'default',\r\n          os: agent.os?.name,\r\n          cluster: agent.node_name,\r\n          verison: agent.version,\r\n          regDate: agent.dateAdd,\r\n          keepAlive: agent.lastKeepAlive,\r\n          status: agent.status,\r\n          action: '',\r\n        }\r\n      })\r\n    },\r\n    isLoading() {\r\n      return this.$store.getters['agent/loading']\r\n    },\r\n  },\r\n  async mounted() {\r\n    await this.$store.dispatch('agent/getListAgents')\r\n    this.agents = this.$store.getters['agent/agents']\r\n  },\r\n  methods: {\r\n    getIconStatus(status) {\r\n      switch (status) {\r\n        case 'active':\r\n          return 'circle-status--success'\r\n        case 'disconnected':\r\n          return 'circle-status--disconnected'\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n::v-deep .v-data-table {\r\n  font-size: 0.875rem;\r\n  line-height: 1.5;\r\n  width: 100%;\r\n}\r\n.agent-container {\r\n  display: -webkit-flex;\r\n  display: flex;\r\n  padding: 16px;\r\n  background-color: #fafbfd;\r\n}\r\n.circle-status {\r\n  width: 10px;\r\n  height: 10px;\r\n  margin-right: 5px;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  &--success {\r\n    @extend .circle-status;\r\n    background-color: #017d73;\r\n  }\r\n  &--disconnected {\r\n    @extend .circle-status;\r\n    background-color: #bd271e;\r\n  }\r\n}\r\n</style>\r\n"]}]}